import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,e as r,o as n}from"./app-Dvgq7Lzg.js";const o={};function p(i,e){return n(),a("div",null,[...e[0]||(e[0]=[r('<h2 id="js的最大安全整数" tabindex="-1"><a class="header-anchor" href="#js的最大安全整数"><span>Js的最大安全整数</span></a></h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER" target="_blank" rel="noopener noreferrer">JS最大安全整数</a>- （2^53 – 1 ）</p><h3 id="背景" tabindex="-1"><a class="header-anchor" href="#背景"><span>背景：</span></a></h3><p>在使用地图工具时，例如marker，文档中要求的id 一般为 number类型，通过接口获取点位信息，后端会返回 String类型，js一般转number。</p><p>如： parseInt(&quot;1782599384477777922&quot;) ===&gt; 1782599384477778000。</p><h3 id="问题" tabindex="-1"><a class="header-anchor" href="#问题"><span>问题：</span></a></h3><p>如果id是递增的，就会因为大于Number.MAX_SAFE_INTEGER 精度丢失。有可能出现所有id为1782599384477778000。此时就有潜在的bug。</p><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结：</span></a></h3><ol><li>使用BigInt类型，BigInt 是一种内置对象，它提供了一种方法来表示大于 2^53 - 1 的整数。这原本是 Javascript 中可以用 Number 表示的最大数字。BigInt 可以表示任意大的整数。</li><li>使用String类型，String类型不会出现精度丢失。</li></ol><p>扩展：<a href="https://juejin.cn/post/6880143057930190855" target="_blank" rel="noopener noreferrer">为什么JavaScript最大安全整数是2^53-1</a></p>',10)])])}const c=t(o,[["render",p]]),m=JSON.parse('{"path":"/posts/JsMax.html","title":"Js最大安全整数","lang":"zh-CN","frontmatter":{"title":"Js最大安全整数","description":"JavaScript 中最大的安全整数","date":"2023-11-15T00:00:00.000Z","lastUpdated":false,"tags":["JavaScript"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Js最大安全整数\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-11-15T00:00:00.000Z\\",\\"dateModified\\":\\"2025-11-01T08:12:15.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Garlen\\",\\"url\\":\\"https://garlen20o.github.io/blog/\\"}]}"],["meta",{"property":"og:url","content":"https://garlen20o.github.io/blog/posts/JsMax.html"}],["meta",{"property":"og:site_name","content":"Garlen"}],["meta",{"property":"og:title","content":"Js最大安全整数"}],["meta",{"property":"og:description","content":"JavaScript 中最大的安全整数"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-01T08:12:15.000Z"}],["meta",{"property":"article:tag","content":"JavaScript"}],["meta",{"property":"article:published_time","content":"2023-11-15T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-01T08:12:15.000Z"}]]},"git":{"createdTime":1761984735000,"updatedTime":1761984735000,"contributors":[{"name":"Garlen","username":"Garlen","email":"649975243@qq.com","commits":1,"url":"https://github.com/Garlen"}]},"readingTime":{"minutes":0.79,"words":236},"filePathRelative":"posts/JsMax.md","excerpt":"<h2>Js的最大安全整数</h2>\\n<p><a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">JS最大安全整数</a>- （2^53 – 1 ）</p>\\n<h3>背景：</h3>\\n<p>在使用地图工具时，例如marker，文档中要求的id 一般为 number类型，通过接口获取点位信息，后端会返回 String类型，js一般转number。</p>"}');export{c as comp,m as data};
